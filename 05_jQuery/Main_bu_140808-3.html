<!DOCTYPE html>
<html lang="kr">
<head>
<title>Main</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<script type="text/javascript" src="js/jquery-1.11.1.min.js" charset="utf-8"></script>
<script type="text/javascript">
var p_args_alert = function(args) {
	var t_str = '';
	var t_la = args.length;
	var i;
	for (i = 0; i < t_la; i++) {
		if (i < t_la - 1)
			t_str += args[i] + ', ';
		else
			t_str += args[i];
	}

	alert(t_str);
};

var p_js3_call = function() {
	alert(p_thisMovie('flash_obj').p_as3_call);

	try {
		p_thisMovie('flash_obj').p_as3_call.apply(null, arguments);
	}
	catch (e) {alert(e);}

	//alert('p_js3_call');
	//alert('arguments: ' + arguments);
	//p_args_alert(arguments);
};

var p_js2_call = function() {
	try {
		p_thisMovie('flash_obj').p_as2_call.apply(null, arguments);
	}
	catch (e) {}

	//alert('p_js2_call');
	//alert('arguments: ' + arguments);
	//p_args_alert(arguments);
};

var p_thisMovie = function(movieName) {
	return jQuery('#' + movieName)[0];
};

// - 도큐먼트 시작
jQuery(document).ready(function() {
	(function() {
		var t_id		= 'flash_obj',
			t_url		= 'Main.swf',
			t_flashVars = '';

		jQuery('#mainCont_dv').html(
/*
			'<object ' +
				'codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" ' +
				'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" ' +
				'id="' + t_id + '" ' +
				'width="100%" height="100%">' +
				'<param name="movie" value="' + t_url + '" />' +
				'<param name="wmode" value="window" />' +
				'<param name="quality" value="high" />' +
				'<param name="menu" value="false" />' +
				'<param name="bgcolor" value="#ffffff" />' +
				'<param name="allowscriptaccess" value="always" />' +
				'<param name="allowfullscreen" value="true" />' +
				'<param name="base" value=".">' +
				'<param name="flashvars" value="' + t_flashVars + '" />' +
				'<embed ' +
					'type="application/x-shockwave-flash" ' +
					'pluginspage="http://www.macromedia.com/go/getflashplayer" ' +
					'id="' + t_id + '" ' +
					'width="100%" ' +
					'height="100%" ' +
					'src="' + t_url + '" ' +
					'wmode="window" ' +
					'quality="high" ' +
					'menu="false" ' +
					'bgcolor="#ffffff" ' +
					'allowscriptaccess="always" ' +
					'allowfullscreen="true" ' +
					'base="." ' +
					'flashvars="' + t_flashVars + '">' +
			'</object>'*/

/*
			'<embed ' +
				'type="application/x-shockwave-flash" ' +
				'pluginspage="http://www.macromedia.com/go/getflashplayer" ' +
				'id="' + t_id + '" ' +
				'src="' + t_url + '" ' +
				'width="100%" ' +
				'height="100%" ' +
				'wmode="window" ' +
				'quality="high" ' +
				'menu="false" ' +
				'bgcolor="#ffffff" ' +
				'allowscriptaccess="always" ' +
				'allowfullscreen="true" ' +
				'base="." ' +
				'flashvars="' + t_flashVars + '">'*/

			'<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="550" height="400" id="main" align="middle">' +
				'<param name="movie" value="main.swf" />' +
				'<param name="quality" value="high" />' +
				'<param name="bgcolor" value="#ffffff" />' +
				'<param name="play" value="true" />' +
				'<param name="loop" value="true" />' +
				'<param name="wmode" value="window" />' +
				'<param name="scale" value="showall" />' +
				'<param name="menu" value="true" />' +
				'<param name="devicefont" value="false" />' +
				'<param name="salign" value="" />' +
				'<param name="allowScriptAccess" value="sameDomain" />' +
				'<!--[if !IE]>-->' +
				'<object type="application/x-shockwave-flash" data="main.swf" width="550" height="400">' +
					'<param name="movie" value="main.swf" />' +
					'<param name="quality" value="high" />' +
					'<param name="bgcolor" value="#ffffff" />' +
					'<param name="play" value="true" />' +
					'<param name="loop" value="true" />' +
					'<param name="wmode" value="window" />' +
					'<param name="scale" value="showall" />' +
					'<param name="menu" value="true" />' +
					'<param name="devicefont" value="false" />' +
					'<param name="salign" value="" />' +
					'<param name="allowScriptAccess" value="sameDomain" />' +
				'<!--<![endif]-->' +
					'<a href="https://www.adobe.com/go/getflash">' +
						'<img src="https://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="Get Adobe Flash player" />' +
					'</a>' +
				'<!--[if !IE]>-->' +
				'</object>' +
				'<!--<![endif]-->' +
			'</object>'
		);
	})();

	jQuery('#test_dv').click(function() {
		p_js3_call('p_haha', 'Hello ActionScript 3');
	});
});
</script>
<style type="text/css">
body {
	margin: 0px; padding: 0px; overflow: hidden;
	background-color: #ffffff;
	font-family: 굴림, 돋움, Vernada;
	font-size: 11px;
	color: #000000;
}

#mainCont_dv {
	position: absolute; left: 0px; top: 100px;
	width: 100%; height: 100%;
	overflow: hidden;
}
</style>
</head>
<body>
	<div id="test_dv" style="width: 100px; height: 100px; background-color: #ff0000; cursor: pointer;"></div>
	<div id="mainCont_dv"></div>
</body>
</html>
